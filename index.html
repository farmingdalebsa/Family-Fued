<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BSA Family Feud Night</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-emerald-950 text-emerald-50 min-h-screen">
    <div id="root"></div>
    <script type="text/babel" data-presets="react">
      const { useState, useEffect, useMemo } = React;

      const SAMPLE_QUESTIONS = [
        { prompt: "Name a popular Bangladeshi street food", answers: [
          { text: "Fuchka/Pani Puri", points: 30 },
          { text: "Chotpoti", points: 18 },
          { text: "Jhalmuri", points: 15 },
          { text: "Singara/Samosa", points: 12 },
          { text: "Roll/Paratha roll", points: 10 },
          { text: "Pitha (seasonal)", points: 8 },
          { text: "Haleem", points: 7 },
        ]},
        { prompt: "Name a city you’d recommend visiting in Bangladesh", answers: [
          { text: "Cox’s Bazar", points: 24 },
          { text: "Dhaka", points: 22 },
          { text: "Sylhet", points: 18 },
          { text: "Chattogram", points: 14 },
          { text: "Sundarbans (Khulna)", points: 10 },
          { text: "Srimangal", points: 7 },
          { text: "Rangamati/Bandarban", points: 5 },
        ]},
        // ... add all 25 questions here using same format ...
      ];

      function sumRevealed(answers, revealed){
        return answers.reduce((t,a,i)=>t+(revealed[i]?a.points:0),0);
      }
      function totalPossible(answers){return answers.reduce((s,a)=>s+a.points,0);}

      function App(){
        const [teamA,setTeamA]=useState("Team Padma");
        const [teamB,setTeamB]=useState("Team Meghna");
        const [scoreA,setScoreA]=useState(0);
        const [scoreB,setScoreB]=useState(0);
        const [round,setRound]=useState(0);
        const [revealed,setRevealed]=useState([]);
        const [strikes,setStrikes]=useState(0);
        const [mult,setMult]=useState(1);
        const [hide,setHide]=useState(true);

        const q=SAMPLE_QUESTIONS[round];
        useEffect(()=>{if(q){setRevealed(new Array(q.answers.length).fill(false));setStrikes(0);setMult(1);setHide(true);}},[round]);

        const revealedPts=useMemo(()=>q?sumRevealed(q.answers,revealed):0,[q,revealed]);
        const totalPts=useMemo(()=>q?totalPossible(q.answers):0,[q]);

        function handleReveal(i){if(hide)return;const n=[...revealed];n[i]=true;setRevealed(n);}
        function toggleAll(state){if(state)setHide(false);setRevealed(new Array(q.answers.length).fill(state));}
        function nextMult(){setMult(m=>m===1?2:m===2?3:1);}
        function addStrike(){setStrikes(s=>Math.min(3,s+1));}
        function clearStrikes(){setStrikes(0);}
        function award(to){const pts=revealedPts*mult;if(to==='A')setScoreA(s=>s+pts);else setScoreB(s=>s+pts);}

        return (
          <div className="max-w-6xl mx-auto p-4 space-y-4">
            <h1 className="text-3xl font-bold flex items-center gap-3"><div className="w-8 h-8 rounded-full bg-red-600"></div>BSA Family Feud Night</h1>
            <div className="grid md:grid-cols-3 gap-4">
              <div className="bg-emerald-900 p-3 rounded-xl border border-emerald-800"><input value={teamA} onChange={e=>setTeamA(e.target.value)} className="bg-transparent border-b w-full"/><div className="text-3xl font-bold">{scoreA}</div></div>
              <div className="bg-emerald-900 p-3 rounded-xl border border-emerald-800 flex flex-col gap-2">
                <div>Round {round+1}/{SAMPLE_QUESTIONS.length}</div>
                <button onClick={nextMult}>×{mult}</button>
                <div>Revealed {revealedPts} | Value {revealedPts*mult}</div>
                <div>Strikes: {"X".repeat(strikes)}</div>
                <div className="flex gap-2"><button onClick={addStrike}>+X</button><button onClick={clearStrikes}>Clear</button></div>
              </div>
              <div className="bg-emerald-900 p-3 rounded-xl border border-emerald-800"><input value={teamB} onChange={e=>setTeamB(e.target.value)} className="bg-transparent border-b w-full"/><div className="text-3xl font-bold">{scoreB}</div></div>
            </div>
            <div className="bg-emerald-900 p-4 rounded-xl border border-emerald-800">
              {hide? <button onClick={()=>setHide(false)} className="w-full py-10 border-dashed border-2 border-emerald-700">Tap to reveal the question</button>:
                <>
                  <div className="text-2xl font-bold mb-3">{q.prompt}</div>
                  <div className="grid sm:grid-cols-2 gap-2">
                    {q.answers.map((a,i)=>(
                      <button key={i} onClick={()=>handleReveal(i)} className={`p-3 rounded-xl border ${revealed[i]?"bg-emerald-50 text-emerald-950":"bg-emerald-950/40 text-emerald-50"}`}>
                        <div className="flex justify-between"><span>{revealed[i]?a.text:`#${i+1}`}</span><span>{revealed[i]?a.points:"?"}</span></div>
                      </button>
                    ))}
                  </div>
                </>}
              <div className="flex flex-wrap gap-2 mt-4">
                <button onClick={()=>toggleAll(true)}>Reveal all</button>
                <button onClick={()=>toggleAll(false)}>Hide all</button>
                <button onClick={()=>award('A')} className="bg-red-600 px-2 py-1 rounded">Award {teamA}</button>
                <button onClick={()=>award('B')} className="bg-red-600 px-2 py-1 rounded">Award {teamB}</button>
                <button onClick={()=>setRound(r=>r>0?r-1:r)}>Prev</button>
                <button onClick={()=>setRound(r=>r<SAMPLE_QUESTIONS.length-1?r+1:0)}>Next</button>
              </div>
            </div>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
    </script>
  </body>
</html>
